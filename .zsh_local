# ZSH set up steps
#
# Change default shell to zsh
#   chsh -s /bin/zsh
#
# Install [Oh My ZSH](http://ohmyz.sh/) via curl
#   sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
#
# Comment some lines in `.zshrc` to accept new settings in this file
#   Linux:
#     sed -i "s/^ZSH_THEME\|^source/#&/g" ~/.zshrc && sed -zi "s/plugins=(\n  git\n)/#plugins=(git)/g" ~/.zshrc
#   MacOS:
#     brew install gnu-sed
#     gsed -i "s/^ZSH_THEME\|^source/#&/g" ~/.zshrc && gsed -zi "s/plugins=(\n  git\n)/#plugins=(git)/g" ~/.zshrc
#
# Install Fish-like autosuggestions for zsh
#   git clone git://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions
#
# Set up steps for MacOS
#   brew install coreutils
#
# Set up shell confs
#   echo "[[ -f ~/.sh_base ]] && . ~/.sh_base" >> ~/.zshrc && source ~/.zshrc

alias s="source ~/.zshrc"

if [[ $(uname) == "Darwin" ]]; then
  # Usage of plugin 'osx'
  #   tab           open the current directory in a new tab
  #   pfd           return the path of the frontmost Finder window
  #   pfs           return the current Finder selection
  #   cdf           cd to the current Finder directory
  #   pushdf        pushd to the current Finder directory
  #   quick-look    quick Look a specified file
  #   man-preview   open a specified man page in Preview
  #   itunes        iTunes control function, see `itunes -h` for usage
  ZSH_PLUGINS="$ZSH_PLUGINS osx"
fi

# Settings for oh-my-zsh.
ZSH_THEME="agnoster"
plugins=(
  z sudo zsh-autosuggestions colored-man-pages history-substring-search
  tmux git golang docker
  $ZSH_PLUGINS
)
ZSH_TMUX_AUTOSTART=true
# Set false to use multiple tmux sessions.
ZSH_TMUX_AUTOQUIT=false
. $ZSH/oh-my-zsh.sh
# Highlighting for zsh-autosuggestions.
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE="fg=blue"
# Settings for zsh-history-substring-search.
# See https://github.com/zsh-users/zsh-history-substring-search.
setopt HIST_IGNORE_ALL_DUPS
bindkey '^R' history-substring-search-up
bindkey '^S' history-substring-search-down
HISTORY_SUBSTRING_SEARCH_HIGHLIGHT_FOUND="bg=blue,fg=white"
HISTORY_SUBSTRING_SEARCH_HIGHLIGHT_NOT_FOUND="bg=magenta,fg=white"

# Uncomment it if usnig Powerline instead of oh-my-zsh.
# . $POWERLINE_ROOT/powerline/bindings/zsh/powerline.zsh

# Looks like on-my-zsh would do `alias l="ls -la"`.
if [[ $(uname) == "Darwin" ]]; then
  if brew list | grep coreutils >/dev/null; then
    alias ls="ls -F --show-control-chars --color=auto"
  fi
fi
alias l="ls"
alias ll="ls -l"
alias la="ls -a"
alias lla="ls -la"

alias gdh="g dh"
alias gdc="g dc"
alias gdt="g dt"
alias ga.="g a ."
alias gcx="g co --"
alias gcx.="g co -- ."
alias gcm="g ci -m"
alias gca="g ci --amend"
alias grh="g rh"
alias glf="g lfs"
