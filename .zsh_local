# ZSH set up steps --------------------------------------------------------{{{1
#
# Install zsh and change default shell
#   sudo apt-get install zsh && chsh -s $(which zsh)
#
# Install https://github.com/zsh-users/antigen
#   curl -Lo ~/.zsh_antigen git.io/antigen
#
# Set up shell confs
#   echo "[[ -f ~/.sh_base ]] && . ~/.sh_base" >> ~/.zshrc && source ~/.zshrc

alias s="source ~/.zshrc"

# Antigen -- The plugin manager for zsh -----------------------------------{{{1
#         -- https://github.com/zsh-users/antigen

. ~/.zsh_antigen

# Load the oh-my-zsh's library.
# https://github.com/ohmyzsh/ohmyzsh
antigen use oh-my-zsh
export ZSH=$HOME/.antigen/bundles/robbyrussell/oh-my-zsh

# Load the theme.
antigen theme agnoster

# oh-my-zsh's plugins -----------------------------------------------------{{{2

# $ZSH/plugins/tmux/README.md
antigen bundle tmux
ZSH_TMUX_AUTOSTART=true
# Set false to use multiple tmux sessions.
ZSH_TMUX_AUTOQUIT=false

# $ZSH/plugins/z/README.md
antigen bundle z
# $ZSH/plugins/sudo/README.md
antigen bundle sudo
# $ZSH/plugins/colored-man-pages/README.md
antigen bundle colored-man-pages
# $ZSH/plugins/command-not-found/README.md
antigen bundle command-not-found
# $ZSH/plugins/magic-enter/README.md
antigen bundle magic-enter
# $ZSH/plugins/systemadmin/README.md
antigen bundle systemadmin
# $ZSH/plugins/web-search/README.md
antigen bundle web-search

# $ZSH/plugins/emoji/README.md
antigen bundle emoji
# $ZSH/plugins/emotty/README.md
# antigen bundle emotty

# $ZSH/plugins/git/README.md
antigen bundle git

# $ZSH/plugins/docker/README.md
antigen bundle docker
# $ZSH/plugins/docker-compose/README.md
antigen bundle docker-compose
# $ZSH/plugins/kubectl/README.md
antigen bundle kubectl

# $ZSH/plugins/golang/README.md
antigen bundle golang

# $ZSH/plugins/yarn/README.md
antigen bundle yarn

if [[ $(uname) == "Darwin" ]]; then
  # $ZSH/plugins/osx/README.md
  antigen bundle osx
fi

# Github plugins ----------------------------------------------------------{{{2

# https://github.com/zsh-users/zsh-completions
antigen bundle zsh-users/zsh-completions
# https://github.com/zsh-users/zsh-autosuggestions
antigen bundle zsh-users/zsh-autosuggestions
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE="fg=blue"

# https://github.com/caarlos0-graveyard/zsh-open-pr
antigen bundle caarlos0-graveyard/zsh-open-pr

# NOTE: Do not change the order of following plugins.
# https://github.com/zsh-users/zsh-syntax-highlighting
antigen bundle zsh-users/zsh-syntax-highlighting
# $ZSH/plugins/history-substring-search/README.md
antigen bundle history-substring-search

# Tell Antigen that you're done.
antigen apply

# Final steps -------------------------------------------------------------{{{1

# Conflict with `ts` tool in moreutils.
unalias ts
alias tn="tmux new-session -s"

# Settings for history-substring-search.
# See $ZSH/plugins/history-substring-search/README.md.
bindkey '^R' history-substring-search-up
bindkey '^S' history-substring-search-down
HISTORY_SUBSTRING_SEARCH_HIGHLIGHT_FOUND="bg=blue,fg=white"
HISTORY_SUBSTRING_SEARCH_HIGHLIGHT_NOT_FOUND="bg=magenta,fg=white"
HISTORY_SUBSTRING_SEARCH_FUZZY=true
